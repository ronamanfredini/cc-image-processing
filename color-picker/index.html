<html>

</html>

<body>
  <div>
    <label>R</label>
    <input min="0" max="255" id="R" value="1" /></input>
  </div>
  <div>
    <label>G</label>
    <input min="0" max="255" id="G" value="2" /></input>
  </div>
  <div>
    <label>B</label>
    <input min="0" max="255" id="B" value="3" /></input>
  </div>

  <div>
    <button onclick="converter()">Converter</button>
  </div>
</body>
<script>

  function getMax(...numbers) {
    let max = -1;
    let maxIdx = -1;
    for (let i = 0; i < numbers.length; i++) {
      const num = numbers[i];
      if (num > max) {
        max = num;
        maxIdx = i;
      }
    }

    return [max, maxIdx];
  }

  function getMin(...numbers) {
    let min = 99999999;
    let minIdx = -1;
    for (let i = 0; i < numbers.length; i++) {
      const num = numbers[i];
      if (num < min) {
        min = num;
        minIdx = i;
      }
    }

    return [min, minIdx];
  }

  function rgbParaCinza(r, g, b) {
    return (r + g + b) / 3;
  }

  function transformaEntreZeroEUm(r, g, b) {
    return [r / 255, g / 255, b / 255];
  }

  function hsv(r, g, b) {
    const [rTransformado, gTransformado, bTransformado] = transformaEntreZeroEUm(r, g, b);
    const [max, maxIdx] = getMax(rTransformado, gTransformado, bTransformado);
    const [min, minIdx] = getMin(rTransformado, gTransformado, bTransformado);
    let h = 60;
    if (maxIdx === 0 && gTransformado >= bTransformado) {
      h = h * ((gTransformado - bTransformado) / (max - min));
    }

    if (maxIdx === 0 && gTransformado < bTransformado) {
      h = (h * ((gTransformado - bTransformado) / (max - min))) + 360;
    }

    if (maxIdx === 1) {
      h = (h * ((bTransformado - rTransformado) / (max - min))) + 120;
    }

    if (maxIdx === 2) {
      h = (h * ((rTransformado - gTransformado) / (max - min))) + 240;
    }
    return [h, (max - min) / max, max];
  }

  function cmyk(r, g, b) {
    const [rTransformado, gTransformado, bTransformado] = transformaEntreZeroEUm(r, g, b);
    const [max, maxIdx] = getMax(rTransformado, gTransformado, bTransformado);
    const K = 1 - max;
    const C = (1 - rTransformado - K) / (1 - K);
    const M = (1 - gTransformado - K) / (1 - K);
    const Y = (1 - bTransformado - K) / (1 - K);
    return [C, M, Y, K];
  }

  function converter() {
    const transformacoes = [
      transformaEntreZeroEUm,
      cmyk,
      rgbParaCinza,
      hsv
    ];

    const { R, G, B } = {
      R: document.getElementById('R').value,
      G: document.getElementById('G').value,
      B: document.getElementById('B').value
    };

    transformacoes.forEach(transformacao => console.log(transformacao(R, G, B)));
  }

  converter();

</script>